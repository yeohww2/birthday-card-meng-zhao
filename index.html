<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" 
content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<style>
  @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap');

  body {
    font-family: 'Quicksand', sans-serif;
    background: #ffd9ec;
    margin: 0;
    padding: 40px;
    display: flex;
    justify-content: center;
    overflow-x: hidden;
    position: relative;
  }

  body::before {
    content: "";
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background:
      radial-gradient(circle, white 65%, transparent 67%) 0 0 / 30px 30px repeat,
      radial-gradient(circle, white 65%, transparent 67%) 15px 15px / 30px 30px repeat;
    opacity: 0.35;
    z-index: -1;
  }

  body::after {
    content: "";
    position: absolute;
    inset: 0;
    border: 20px solid white;
    border-radius: 40px;
    pointer-events: none;
    z-index: -1;
  }

  .card {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    border-radius: 28px;
    padding: 45px;
    width: 90%;
    max-width: 760px;
    border: 3px solid #ffb6d9;
    box-shadow:
      0 8px 28px rgba(255, 105, 150, 0.28),
      0 0 40px rgba(255, 150, 200, 0.3);
  }

  .bb-img {
    width: 45%;
    max-width: 200px;
    display: block;
    margin: 0 auto 20px auto;
    border-radius: 18px;
    box-shadow: 0 4px 12px rgba(255, 150, 200, 0.3);
  }

#voice-btn {
  display: block;
  margin: 0 auto 20px auto;
  width: 60px;
  height: 60px;
  border-radius: 999px;
  background: #ff9ecb;
  border: none;
  font-size: 30px;
  color: white;
  box-shadow: 0 4px 12px rgba(255, 120, 170, 0.5);
  cursor: pointer;
  transition: transform .15s;
}

#voice-btn:active {
  transform: scale(0.92);
}

  p {
    font-size: 1.08em;
    line-height: 2em;
    color: #cc3f7c;
    white-space: pre-line;
    text-align: justify;
  }

  .ribbon, .ribbon-bottom {
    font-size: 2.4em;
    text-align: center;
    margin: 20px 0;
  }

  .signature {
    text-align: right;
    margin-top: 20px;
    font-size: 1.05em;
    color: #cc3f7c;
    font-weight: 400;
  }

  .cute {
    margin-top: 35px;
    font-size: 1.8em;
    color: #ff73b5;
    text-align: center;
  }

  .fall {
    position: fixed;
    top: -50px;
    font-size: 2.2em;
    animation: fallDown linear forwards;
    pointer-events: none;
  }

  @keyframes fallDown {
    0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(110vh) rotate(360deg); opacity: 1; }
  }


/* ğŸ”’ LOCK SCREEN */
#lock-screen {
  position: fixed;
  inset: 0;
  background: #ffd9ec;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  flex-direction: column;
  font-family: 'Quicksand', sans-serif;
}

.lock-box {
  text-align: center;
  background: white;
  padding: 30px 40px;
  border-radius: 22px;
  border: 3px solid #ffb6d9;
  box-shadow: 0 8px 20px rgba(255,120,170,0.3);
  width: 280px;
  position: relative;
}

.error-msg {
  font-size: 0.95em;
  color: #ff6fa8;
  height: 20px;
  margin-bottom: 10px;
  opacity: 0;
  transition: opacity .3s;
}

.cute-title {
  font-size: 1.7em;
  font-weight: 600;
  color: #ff6fa8;
  margin-bottom: 6px;
}

#dots {
  margin: 14px 0 14px 0;
}

#dots span {
  font-size: 26px;
  color: #ff88b5;
  margin: 0 4px;
  opacity: 0.4;
  transition: 0.2s;
}

#dots span.filled {
  opacity: 1;
  transform: scale(1.2);
}

.num-pad {
  margin-top: 15px;
  display: grid;
  grid-template-columns: repeat(3, 70px);
  gap: 12px;
  justify-content: center;
}

.num-pad button {
  width: 70px;
  height: 70px;
  border-radius: 999px;
  background: #ffb6d9;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: white;
  box-shadow: 0 3px 8px rgba(255,120,170,0.4);
  transition: 0.15s;
}

.num-pad button:active {
  transform: scale(0.9);
}

#lock-screen.shake {
  animation: shake 0.3s;
}

button {
  font-size: 20px;   /* Must be >= 16px to stop zoom */
  touch-action: manipulation; /* Disable double-tap */
}

.num-pad button {
  touch-action: manipulation;
}

@keyframes shake {
  0% { transform: translateX(0px); }
  25% { transform: translateX(-12px); }
  50% { transform: translateX(12px); }
  75% { transform: translateX(-12px); }
  100% { transform: translateX(0px); }
}

.heart-fall {
  position: fixed;
  top: -30px;
  font-size: 26px;
  animation: heartDrop 1.4s linear forwards;
  pointer-events: none;
}

@keyframes heartDrop {
  0% { transform: translateY(-30px) rotate(0deg); opacity: 1; }
  100% { transform: translateY(80vh) rotate(360deg); opacity: 0; }
}

  #music-btn {
  position: fixed !important;
  right: 16px !important;
  bottom: 16px !important;
  width: 46px !important;
  height: 46px !important;
  border-radius: 999px !important;
  background: #ffb6d9 !important;
  border: none !important;
  font-size: 22px !important;
  line-height: 46px !important;
  text-align: center !important;
  cursor: pointer !important;
  color: #ffffff !important;
  padding: 0 !important;
  z-index: 999 !important;
  display: block !important;
}

#music-btn:active {
  transform: scale(0.92) !important;
}

</style>
</head>

<body>

<div id="lock-screen">
  <div class="lock-box">
    <div class="error-msg" id="error"> </div>
    <h2 class="cute-title">ğŸ”’</h2>

    <div id="dots">
      <span>â™¡</span><span>â™¡</span><span>â™¡</span><span>â™¡</span><span>â™¡</span><span>â™¡</span>
    </div>

    <div class="num-pad">
      <button>0</button><button>1</button><button>2</button>
      <button>3</button><button>4</button><button>5</button>
      <button>6</button><button>7</button><button>8</button>
      <button>9</button>
      <button id="clear">â†</button>
    </div>
  </div>
</div>


<div class="card">
  <div class="ribbon">ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€</div>

  <img src="birthdayboy.png" class="bb-img">
  <button id="voice-btn">ğŸ’—</button>
  <audio id="voice" src="voicewish.m4a"></audio>

  <p>å¯¶è²å•Šï½

ç”Ÿæ—¥å¿«æ¨‚ï¼ğŸ‚ğŸ’•
é€™æ˜¯æˆ‘ç¬¬ä¸‰æ¬¡é™ªä½ éç”Ÿæ—¥ã€‚
æˆ‘è¦ºå¾—å¥½åƒæ‰ä¸€è½‰çœ¼ï¼Œ
æˆ‘åˆç«™åœ¨ä½ èº«é‚Šï¼Œçœ‹è‘—ä½ åˆå¤§ä¸€æ­²ã€‚

æˆ‘çœŸçš„å¾ˆé–‹å¿ƒå¯ä»¥é™ªè‘—ä½  <3
ä¸€èµ·éé€™äº›æ—¥å­ï¼Œä¹Ÿå¸Œæœ›ä»¥å¾Œæ¯ä¸€å¹´ï¼Œ
ä½ éƒ½é‚„æ˜¯æœƒçœ‹åˆ°æˆ‘åœ¨ä½ æ—é‚Šé™ªä½ å¹è Ÿç‡­ (Â´Ë˜`)â™¡

è¬è¬ä½ ä¸€ç›´åŒ…å®¹æˆ‘ã€‚
æˆ‘çŸ¥é“æˆ‘æœ‰æ™‚å€™æœƒå¾ˆå®¹æ˜“ç”Ÿæ°£ï¼Œ
ä¹Ÿæœƒæƒ…ç·’ä¾†å¾—å¾ˆå¿«ã€‚
ä½†æ˜¯ï¼ï¼ï¼ä½ æ¯æ¬¡éƒ½é‚„æ˜¯æœƒå“„æˆ‘ã€é™ªæˆ‘ï¼Œ
è®“æˆ‘è¦ºå¾—è‡ªå·±å¾ˆé‡è¦ï¼Œå¾ˆè¢«æ„›ã€‚
æˆ‘å¾ˆçæƒœé€™ç¨®è¢«ä½ ç…§é¡§çš„æ„Ÿè¦º (Ë¶Ëƒáµ•Ë‚Ë¶)ğŸ’—

è¬è¬ä½ çµ¦æˆ‘çš„æº«æŸ”ï¼Œ
è¬è¬ä½ é¡˜æ„å°æˆ‘å¥½ï¼Œ
è¬è¬ä½ è®“æˆ‘ä¸€ç›´æœ‰å®‰å…¨æ„Ÿã€‚

æˆ‘æ„›ä½ ï¼Œ
æˆ‘ä»¬ä¸€å®šè¦ä¸€ç›´èµ°åˆ°
å¾ˆä¹…å¾ˆä¹…ä»¥å¾Œ (à¹‘â€¢Íˆá´—â€¢Íˆ)ğŸ’</p>

  <div class="signature">ä½ çš„å¯¶è²é›¯ ä¸ŠğŸ’•</div>
  <div class="cute">(à¹‘ËƒÌµá´—Ë‚Ìµ)ï»­â¤ï¸</div>
  <div class="ribbon-bottom">ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€</div>
</div>

<audio id="bgm" src="birthdaysong.mp3"></audio>
<button id="music-btn">ğŸ”ˆ</button>


<script>
const correctCode = ["0","0","1","1","2","4"];
let input = [];
const lock = document.getElementById("lock-screen");
const dots = document.querySelectorAll("#dots span");
const errorMsg = document.getElementById("error");

function dropHearts() {
  const options = ["ğŸ’—","ğŸ’•","ğŸ’–","ğŸ’","ğŸ’“","ğŸ’"];
  for (let i = 0; i < 8; i++) {
    const h = document.createElement("div");
    h.className = "heart-fall";
    h.innerText = options[Math.floor(Math.random()*options.length)];
    h.style.left = Math.random()*100 + "vw";
    h.style.fontSize = (20 + Math.random()*20) + "px";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 1500);
  }
}

document.querySelectorAll(".num-pad button").forEach(btn => {
  btn.addEventListener("click", () => {
    const val = btn.textContent;

    if (val === "â†") {
      if (input.length > 0) {
        input.pop();
        dots[input.length].classList.remove("filled");
      }
      return;
    }

    if (input.length < 6) {
      input.push(val);
      dots[input.length - 1].classList.add("filled");
    }

    if (input.length === 6) {
      if (input.join("") === correctCode.join("")) {
        lock.style.opacity = "0";
        setTimeout(() => lock.style.display = "none", 500);
      } else {
        lock.classList.add("shake");
        errorMsg.textContent = "è¼¸éŒ¯å•¦ ~ ~ â™¡";
        errorMsg.style.opacity = "1";
        dropHearts();

        setTimeout(() => {
          errorMsg.style.opacity = "0";
        }, 1200);

        setTimeout(() => {
          lock.classList.remove("shake");
        }, 400);

        input = [];
        dots.forEach(d => d.classList.remove("filled"));
      }
    }
  });
});


const bgm = document.getElementById("bgm");
const musicBtn = document.getElementById("music-btn");
let isPlaying = false;

function toggleBgm() {
  if (!isPlaying) {
    bgm.play().then(() => {
      isPlaying = true;
      musicBtn.textContent = "ğŸ”Š";
    }).catch(() => {});
  } else {
    bgm.pause();
    isPlaying = false;
    musicBtn.textContent = "ğŸ”ˆ";
  }
}

musicBtn.addEventListener("click", toggleBgm);


const items = ["ğŸ°","ğŸ§","ğŸ“","ğŸ’—","âœ¨","â­","ğŸ¬","ğŸ€"];

function createFallingItem() {
  const el = document.createElement("div");
  el.className = "fall";
  el.innerText = items[Math.floor(Math.random() * items.length)];
  el.style.left = Math.random() * 100 + "vw";
  el.style.animationDuration = 3 + Math.random() * 3 + "s";
  document.body.appendChild(el);
  setTimeout(() => el.remove(), 6000);
}

setInterval(createFallingItem, 300);


const voice = document.getElementById("voice");
const voiceBtn = document.getElementById("voice-btn");
let voicePlaying = false;

function toggleVoice() {
  if (!voicePlaying) {
    voice.play();
    voicePlaying = true;
    voiceBtn.textContent = "ğŸ’—âœ¨";
  } else {
    voice.pause();
    voicePlaying = false;
    voiceBtn.textContent = "ğŸ’—";
  }
}

voiceBtn.addEventListener("click", toggleVoice);

</script>

</body>
</html>
